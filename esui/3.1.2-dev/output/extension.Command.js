Ext.data.JsonP.extension_Command({"tagname":"class","name":"extension.Command","autodetected":{},"files":[{"filename":"Command.js","href":"Command.html#extension-Command"}],"extends":"Extension","params":[{"tagname":"params","type":"Object","name":"options","optional":true,"doc":"<p>初始化配置</p>\n","html_type":"Object"}],"members":[{"name":"active","tagname":"property","owner":"Extension","id":"property-active","meta":{"private":true}},{"name":"target","tagname":"property","owner":"Extension","id":"property-target","meta":{"protected":true}},{"name":"type","tagname":"property","owner":"extension.Command","id":"property-type","meta":{}},{"name":"constructor","tagname":"method","owner":"extension.Command","id":"method-constructor","meta":{}},{"name":"activate","tagname":"method","owner":"extension.Command","id":"method-activate","meta":{}},{"name":"attachTo","tagname":"method","owner":"Extension","id":"method-attachTo","meta":{}},{"name":"dispose","tagname":"method","owner":"Extension","id":"method-dispose","meta":{}},{"name":"handleCommand","tagname":"method","owner":"extension.Command","id":"method-handleCommand","meta":{"protected":true}},{"name":"inactivate","tagname":"method","owner":"extension.Command","id":"method-inactivate","meta":{}},{"name":"isActive","tagname":"method","owner":"Extension","id":"method-isActive","meta":{}},{"name":"createDispatcher","tagname":"method","owner":"extension.Command","id":"static-method-createDispatcher","meta":{"static":true}}],"alternateClassNames":[],"aliases":{},"id":"class-extension.Command","short_doc":"从DOM元素中抓取命令事件的扩展\n\n在ESUI的设计理念中，控件是 对DOM元素和操作的封装 ，\n因此不希望外部代码直接访问控件中的DOM元素\n\n但是控件自身很难提供足够的事件来满足所有的业务，有时业务会需要特定DOM元素的事件\n\nC...","component":false,"superclasses":["Extension"],"subclasses":[],"mixedInto":[],"mixins":[],"parentMixins":[],"requires":[],"uses":[],"html":"<div><pre class=\"hierarchy\"><h4>Hierarchy</h4><div class='subclass first-child'><a href='#!/api/Extension' rel='Extension' class='docClass'>Extension</a><div class='subclass '><strong>extension.Command</strong></div></div><h4>Files</h4><div class='dependency'><a href='source/Command.html#extension-Command' target='_blank'>Command.js</a></div></pre><div class='doc-contents'><p>从DOM元素中抓取命令事件的扩展</p>\n\n<p>在ESUI的设计理念中，控件是 <strong>对DOM元素和操作的封装</strong> ，\n因此不希望外部代码直接访问控件中的DOM元素</p>\n\n<p>但是控件自身很难提供足够的事件来满足所有的业务，有时业务会需要特定DOM元素的事件</p>\n\n<p><code>Command</code>扩展的作用就是将控件内部DOM元素的指定事件，\n转变为控件的<code>command</code>事件触发，供外部的脚本注册及执行相关的逻辑</p>\n\n<p>使用<code>Command</code>扩展后，如果一个DOM元素上有<code>data-command</code>属性，\n则对该DOM元素的事件进行监听，并按以下规则转化为控件的<code>command</code>事件：</p>\n\n<ul>\n<li>监听的事件由扩展的<code>events</code>属性决定</li>\n<li>事件对象中的<code>name</code>属性值为DOM元素的<code>data-command</code>属性值</li>\n<li>事件对象中的<code>args</code>属性值为DOM元素的<code>data-command-args</code>属性值</li>\n</ul>\n\n\n<p>在使用HTML创建<code>Command</code>扩展时，<code>events</code>忏悔可以使用逗号或空格分隔的字符串：</p>\n\n<pre><code>data-ui-extension-command-events=\"click,mousedown,mouseup\"\n// 或\ndata-ui-extension-command-events=\"click mousedown mouseup\"\n</code></pre>\n\n<p>则表示监听<code>click</code>、<code>mousedown</code>和<code>mouseup</code>事件</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>options</span> : Object (optional)<div class='sub-desc'><p>初始化配置</p>\n</div></li></ul></div><div class='members'><div class='members-section'><div class='definedBy'>Defined By</div><h3 class='members-title icon-property'>Properties</h3><div class='subsection'><div id='property-active' class='member first-child inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><a href='#!/api/Extension' rel='Extension' class='defined-in docClass'>Extension</a><br/><a href='source/Extension.html#Extension-property-active' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Extension-property-active' class='name expandable'>active</a> : boolean<span class=\"signature\"><span class='private' >private</span></span></div><div class='description'><div class='short'>当前扩展实例是否处于激活状态 ...</div><div class='long'><p>当前扩展实例是否处于激活状态</p>\n<p>Defaults to: <code>false</code></p></div></div></div><div id='property-target' class='member  inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><a href='#!/api/Extension' rel='Extension' class='defined-in docClass'>Extension</a><br/><a href='source/Extension.html#Extension-property-target' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Extension-property-target' class='name expandable'>target</a> : <a href=\"#!/api/Control\" rel=\"Control\" class=\"docClass\">Control</a><span class=\"signature\"><span class='protected' >protected</span></span></div><div class='description'><div class='short'><p>当前扩展实例应用的控件对象</p>\n</div><div class='long'><p>当前扩展实例应用的控件对象</p>\n</div></div></div><div id='property-type' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='extension.Command'>extension.Command</span><br/><a href='source/Command.html#extension-Command-property-type' target='_blank' class='view-source'>view source</a></div><a href='#!/api/extension.Command-property-type' class='name expandable'>type</a> : string<span class=\"signature\"></span></div><div class='description'><div class='short'>指定扩展类型，始终为\"Command\" ...</div><div class='long'><p>指定扩展类型，始终为<code>\"Command\"</code></p>\n<p>Defaults to: <code>&#39;Command&#39;</code></p></div></div></div></div></div><div class='members-section'><h3 class='members-title icon-method'>Methods</h3><div class='subsection'><div class='definedBy'>Defined By</div><h4 class='members-subtitle'>Instance methods</h3><div id='method-constructor' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='extension.Command'>extension.Command</span><br/><a href='source/Command.html#extension-Command-method-constructor' target='_blank' class='view-source'>view source</a></div><strong class='new-keyword'>new</strong><a href='#!/api/extension.Command-method-constructor' class='name expandable'>extension.Command</a>( <span class='pre'></span> ) : <a href=\"#!/api/extension.Command\" rel=\"extension.Command\" class=\"docClass\">extension.Command</a><span class=\"signature\"></span></div><div class='description'><div class='short'> ...</div><div class='long'>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'><a href=\"#!/api/extension.Command\" rel=\"extension.Command\" class=\"docClass\">extension.Command</a></span><div class='sub-desc'>\n</div></li></ul><p>Overrides: <a href=\"#!/api/Extension-method-constructor\" rel=\"Extension-method-constructor\" class=\"docClass\">Extension.constructor</a></p></div></div></div><div id='method-activate' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='extension.Command'>extension.Command</span><br/><a href='source/Command.html#extension-Command-method-activate' target='_blank' class='view-source'>view source</a></div><a href='#!/api/extension.Command-method-activate' class='name expandable'>activate</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>激活扩展 ...</div><div class='long'><p>激活扩展</p>\n<p>Overrides: <a href=\"#!/api/Extension-method-activate\" rel=\"Extension-method-activate\" class=\"docClass\">Extension.activate</a></p></div></div></div><div id='method-attachTo' class='member  inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><a href='#!/api/Extension' rel='Extension' class='defined-in docClass'>Extension</a><br/><a href='source/Extension.html#Extension-method-attachTo' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Extension-method-attachTo' class='name expandable'>attachTo</a>( <span class='pre'>target</span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>关联至给定的控件 ...</div><div class='long'><p>关联至给定的控件</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>target</span> : <a href=\"#!/api/Control\" rel=\"Control\" class=\"docClass\">Control</a><div class='sub-desc'><p>需要关联的控件实例</p>\n</div></li></ul></div></div></div><div id='method-dispose' class='member  inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><a href='#!/api/Extension' rel='Extension' class='defined-in docClass'>Extension</a><br/><a href='source/Extension.html#Extension-method-dispose' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Extension-method-dispose' class='name expandable'>dispose</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>销毁当前实例 ...</div><div class='long'><p>销毁当前实例</p>\n</div></div></div><div id='method-handleCommand' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='extension.Command'>extension.Command</span><br/><a href='source/Command.html#extension-Command-method-handleCommand' target='_blank' class='view-source'>view source</a></div><a href='#!/api/extension.Command-method-handleCommand' class='name expandable'>handleCommand</a>( <span class='pre'>e</span> )<span class=\"signature\"><span class='protected' >protected</span></span></div><div class='description'><div class='short'>处理事件\n\n该方法包含了以下逻辑：\n\n\n判断元素是否符合触发command事件的条件，默认条件为有data-command属性\n构造事件对象，默认带有以下属性：\n\n\n{string} name：命令名称，来自data-command属...</div><div class='long'><p>处理事件</p>\n\n<p>该方法包含了以下逻辑：</p>\n\n<ol>\n<li>判断元素是否符合触发<code>command</code>事件的条件，默认条件为有<code>data-command</code>属性</li>\n<li>构造事件对象，默认带有以下属性：\n\n<ul>\n<li><code>{string} name</code>：命令名称，来自<code>data-command</code>属性的值</li>\n<li><code>{string} args</code>：命令参数，来自<code>data-command-args</code>属性的值</li>\n<li><code>{string} triggerType</code>：触发的DOM事件类型</li>\n</ul>\n</li>\n<li>触发<code>command</code>事件</li>\n<li>控制<code>stopPropagation</code>等逻辑</li>\n</ol>\n\n\n<p>通过重写本方法可以改变以上逻辑，多数情况下不需要重写</p>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>e</span> : Event<div class='sub-desc'><p>事件对象</p>\n</div></li></ul></div></div></div><div id='method-inactivate' class='member  not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='extension.Command'>extension.Command</span><br/><a href='source/Command.html#extension-Command-method-inactivate' target='_blank' class='view-source'>view source</a></div><a href='#!/api/extension.Command-method-inactivate' class='name expandable'>inactivate</a>( <span class='pre'></span> )<span class=\"signature\"></span></div><div class='description'><div class='short'>取消扩展的激活状态 ...</div><div class='long'><p>取消扩展的激活状态</p>\n<p>Overrides: <a href=\"#!/api/Extension-method-inactivate\" rel=\"Extension-method-inactivate\" class=\"docClass\">Extension.inactivate</a></p></div></div></div><div id='method-isActive' class='member  inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><a href='#!/api/Extension' rel='Extension' class='defined-in docClass'>Extension</a><br/><a href='source/Extension.html#Extension-method-isActive' target='_blank' class='view-source'>view source</a></div><a href='#!/api/Extension-method-isActive' class='name expandable'>isActive</a>( <span class='pre'></span> ) : boolean<span class=\"signature\"></span></div><div class='description'><div class='short'>判断当前实例是否处于激活状态 ...</div><div class='long'><p>判断当前实例是否处于激活状态</p>\n<h3 class='pa'>Returns</h3><ul><li><span class='pre'>boolean</span><div class='sub-desc'><p>如果处于激活状态则返回<code>true</code></p>\n</div></li></ul></div></div></div></div><div class='subsection'><div class='definedBy'>Defined By</div><h4 class='members-subtitle'>Static methods</h3><div id='static-method-createDispatcher' class='member first-child not-inherited'><a href='#' class='side expandable'><span>&nbsp;</span></a><div class='title'><div class='meta'><span class='defined-in' rel='extension.Command'>extension.Command</span><br/><a href='source/Command.html#extension-Command-static-method-createDispatcher' target='_blank' class='view-source'>view source</a></div><a href='#!/api/extension.Command-static-method-createDispatcher' class='name expandable'>createDispatcher</a>( <span class='pre'>config</span> ) : Function<span class=\"signature\"><span class='static' >static</span></span></div><div class='description'><div class='short'>创建一个根据事件类型和命令名称分发至对应处理函数的函数\n\n可以采用以下两种形式的配置：\n\n    [\n        { type: 'click', name: 'xxx', handler: xxx },\n        { ty...</div><div class='long'><p>创建一个根据事件类型和命令名称分发至对应处理函数的函数</p>\n\n<p>可以采用以下两种形式的配置：</p>\n\n<pre><code>    [\n        { type: 'click', name: 'xxx', handler: xxx },\n        { type: 'mouseover', name: 'xxx', handler: yyy },\n        { type: 'click', name: 'yyy', handler: zzz },\n    ]\n</code></pre>\n\n<p>或</p>\n\n<pre><code>    {\n        'click:xxx': xxx,\n        'mouseover:xxx': yyy,\n        'click:yyy': zzz\n    }\n</code></pre>\n<h3 class=\"pa\">Parameters</h3><ul><li><span class='pre'>config</span> : Object<div class='sub-desc'><p>相关的配置</p>\n</div></li></ul><h3 class='pa'>Returns</h3><ul><li><span class='pre'>Function</span><div class='sub-desc'><p>分发函数，用于注册到<code>command</code>事件上</p>\n</div></li></ul></div></div></div></div></div></div></div>","meta":{}});